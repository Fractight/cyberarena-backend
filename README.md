# Cyberarena API

Документ описывает структуру запросов для доступа к API сети компьютерных клубов CyberArena.



## **Кейсы**

#### **Все кейсы**

| Эндпоинт                   | /shop/cases |
| :------------------------- | ----------- |
| **Метод**                  | GET         |
| ***Требует access_token*** |             |

#### **Определенный кейс**

| Эндпоинт                   | /shop/cases/\<int:id\> |
| :------------------------- | ---------------------- |
| **Метод**                  | GET                    |
| ***Требует access_token*** |                        |
```json
{
    "case": {
        "description": "Скидки на покупку времени",
        "name": "Скидки",
        "id": 1
    },
    "items": [
        {
            "name": "Скидка на игру за ПК",
            "probability": 0.1,
            "description": "Скидка 20%",
            "expiration_period": 3600,
            "case": 1,
            "id": 1
        },
        {
            "name": "Скидка на игру за консолью",
            "probability": 0.7,
            "description": "Скидка 30%",
            "expiration_period": 3600,
            "case": 1,
            "id": 2
        },
        {
            "name": "Скидка на игру за ПК",
            "probability": 0.2,
            "description": "Скидка 30%",
            "expiration_period": 3600,
            "case": 1,
            "id": 3
        }
    ]
}
```
#### **Все предметы пользователя**

| Эндпоинт                   | /shop/items |
| :------------------------- | :---------- |
| **Метод**                  | GET         |
| ***Требует access_token*** |             |

#### **Открыть кейс**

| Эндпоинт                   | /shop/cases/\<int:id\> |
| :------------------------- | ---------------------- |
| **Метод**                  | POST                   |
| ***Требует access_token*** |                        |

#### **Активировать предмет**

| Эндпоинт                   | /shop/items/\<int:id\> |
| :------------------------- | :--------------------- |
| **Метод**                  | PATCH                  |
| ***Требует access_token*** |                        |

## **Новости**

#### **Все новости**

| Эндпоинт                 | /news |
| :----------------------- | :---- |
| **Метод**                | GET   |
| **Требует access_token** |       |

Параметры

| offset | Позволяет отступить от начала несколько новостей     |
| ------ | ---------------------------------------------------- |
| count  | Колчество новостей, которое должен возвратить сервер |

## Пользователь

#### **Профиль**

| Эндпоинт                 | /user/profile |
| :----------------------- | :------------ |
| **Метод**                | GET           |
| **Требует access_token** |               |

#### **Обновить токен**

| Эндпоинт                  | /user/profile |
| :------------------------ | :------------ |
| **Метод**                 | GET           |
| **Требует refresh_token** |               |
